{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9e12a799_bcb475ac",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006
      },
      "writtenOn": "2024-05-29T18:57:46Z",
      "side": 1,
      "message": "--- a/jami-android/app/src/main/java/cx/ring/service/DRingService.kt\n+++ b/jami-android/app/src/main/java/cx/ring/service/DRingService.kt\n@@ -22,6 +22,7 @@ import android.content.BroadcastReceiver\n import android.content.Context\n import android.content.Intent\n import android.content.IntentFilter\n+import android.content.pm.ServiceInfo\n import android.database.ContentObserver\n import android.net.*\n import android.net.ConnectivityManager.NetworkCallback\n@@ -179,7 +180,10 @@ class DRingService : Service() {\n     private fun showSystemNotification(settings: Settings) {\n         try {\n             if (settings.enablePermanentService) {\n-                startForeground(NOTIFICATION_ID, mNotificationService.serviceNotification as Notification)\n+                if (Build.VERSION.SDK_INT \u003e\u003d Build.VERSION_CODES.Q)\n+                    startForeground(NOTIFICATION_ID, mNotificationService.serviceNotification as Notification, ServiceInfo.FOREGROUND_SERVICE_TYPE_DATA_SYNC)\n+                else\n+                    startForeground(NOTIFICATION_ID, mNotificationService.serviceNotification as Notification)\n             } else {\n                 stopForeground(true)\n             }",
      "revId": "a955f046e04ce0f3df6083039c8b077c060a0939",
      "serverId": "1e26b4c1-6b8c-47ff-9df7-501b633d3b5a"
    }
  ]
}